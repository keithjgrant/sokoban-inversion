(function(){define("Level",[],function(){var e;return e=function(){function e(){}return e}()})}).call(this),function(){define("entities/Block",[],function(){var e;return e=function(){function e(e,t){this.col=e,this.row=t}return e.prototype.setNeighbors=function(e){return this.north=e.north,this.east=e.east,this.south=e.south,this.west=e.west},e}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("entities/PushableBlock",["entities/Block"],function(e){var n,r;return n=function(e){function n(){return r=n.__super__.constructor.apply(this,arguments),r}return t(n,e),n.prototype.setKeystone=function(e){this._isKeystone=e!=null?e:!0},n.prototype.isKeystone=function(){return this._isKeystone||!1},n.prototype.setColor=function(e){this.color=e},n.prototype.getColor=function(){return this.color},n.prototype.canPushNorth=function(){return this._canPush(this.south,this.north)},n.prototype.canPushSouth=function(){return this._canPush(this.south,this.north)},n.prototype.canPushEast=function(){return this._canPush(this.west,this.east)},n.prototype.canPushWest=function(){return this._canPush(this.east,this.west)},n.prototype._canPush=function(e,t){return this.getColor()===t.getColor()?!1:e.getColor()!==t.getColor()?!1:!0},n}(e)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("entities/Player",[],function(){var t;return t=function(){function t(t,n,r){this.eventBus=t,this.col=n,this.row=r,this._attemptMoveWest=e(this._attemptMoveWest,this),this._attemptMoveSouth=e(this._attemptMoveSouth,this),this._attemptMoveEast=e(this._attemptMoveEast,this),this._attemptMoveNorth=e(this._attemptMoveNorth,this),this.eventBus.on("user:up",this._attemptMoveNorth),this.eventBus.on("user:right",this._attemptMoveEast),this.eventBus.on("user:down",this._attemptMoveSouth),this.eventBus.on("user:left",this._attemptMoveWest)}return t.prototype.setNeighbors=function(e){return this.north=e.north,this.east=e.east,this.south=e.south,this.west=e.west},t.prototype._attemptMoveNorth=function(){if(this.neighbors.north.canPushNorth())return _moveNorth()},t.prototype._moveNorth=function(){return this.neighbors.north.pushNorth(),this._move(0,-1)},t.prototype._attemptMoveEast=function(){if(this.neighbors.east.canPushEast())return _moveEast()},t.prototype._moveEast=function(){return this.neighbors.east.pushEast(),this._move(1,0)},t.prototype._attemptMoveSouth=function(){if(this.neighbors.south.canPushSouth())return _moveSouth()},t.prototype._moveSouth=function(){return this.neighbors.south.pushSouth(),this._move(0,1)},t.prototype._attemptMoveWest=function(){if(this.neighbors.west.canPushWest())return _moveWest()},t.prototype._moveWest=function(){return this.neighbors.west.pushWest(),this._move(-1,0)},t.prototype._move=function(e,t){return this.col+=e,this.row+=t},t}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("entities/Wall",["entities/Block"],function(e){var n,r;return n=function(e){function n(){return r=n.__super__.constructor.apply(this,arguments),r}return t(n,e),n.prototype.isPushable=function(){return!1},n.prototype.isCoverable=function(){return!1},n.prototype.getColor=function(){return""},n}(e)})}.call(this),function(){define("entities/Goal",[],function(){var e;return e=function(){function e(){}return e}()})}.call(this),function(){define("LevelParser",["Level","entities/PushableBlock","entities/Player","entities/Wall","entities/Goal"],function(e,t,n,r,i){var s;return s=function(){function t(e){this.data=e}return t.prototype.blockTypes={w:t._createWall,a:t._createPushableWhite,A:t._createPushableWhiteKeystone,b:t._createPushableBlue,B:t._createPushableBlueKeystone,c:t._createPushableRed,C:t._createPushableRedKeystone,g:t._createGateway},t.prototype.goalTypes={w:t._create},t.prototype.parse=function(){return this.level=new e,this._parseBlocks(),this._parseGoals(),this._parsePlayer(),this.level},t.prototype._parseBlocks=function(){var e,t,n,r,i,s,o,u;o=this.data.blocks,u=[];for(i=0,s=o.length;i<s;i++)r=o[i],u.push(function(){var i,s,o;o=[];for(n=i=0,s=r.length;0<=s?i<=s:i>=s;n=0<=s?++i:--i)t=r[n],e=this.blockTypes[t].call(this,n,r),o.push(this.level.addBlock(e));return o}.call(this));return u},t.prototype._parseGoals=function(){var e,t,n,r,i,s;i=this.data.goals,s=[];for(n=0,r=i.length;n<r;n++)e=i[n],t=this._createGoal.apply(this,e),s.push(this.level.addGoal(t));return s},t.prototype._createGoal=function(e,t,n){var r;return e=def[0],t=def[1],r=def[2]},t}()})}.call(this),function(){define("renderers/LevelRenderer",[],function(){var e;return e=function(){function e(e){this.level=e}return e}()})}.call(this),function(){define("levels",[],function(){return[{blocks:["wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwaawaaawwwww","wwwwwaaBaaaaawww","wwwwaaawwBwaawww","wwwwaBawaawawwww","wwwwwwBwaawawwww","wwwwwwaBaaaawwww","wwwwwwBwawaawwww","wwwwwwaaawwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww"],goals:[[8,5,"b"],[8,6,"b"],[8,7,"b"],[9,5,"b"],[9,6,"b"],[9,7,"b"]],player:[6,7]},["wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww","wwwwwwwwwwwwwwww"]]})}.call(this),function(){define("scenes/LevelScene",["LevelParser","renderers/LevelRenderer","levels"],function(e,t,n){var r;return r=function(){function r(e){this.levelNum=e,this._generateLevel(),this.renderer=new t(this.level)}return r.prototype._generateLevel=function(){var t,r;return t=n[this.levelNum],r=new e(t),this.level=r.parse()},r}()})}.call(this),function(){define("Game",["scenes/LevelScene"],function(e){var t;return t=function(){function t(e){this.eventBus=e,this.loadTitleScene()}return t.prototype.loadTitleScene=function(){},t.prototype.loadLevelScene=function(t){return this.currentScene=new e(t)},t}()})}.call(this),function(){define("EventBus",[],function(){var e;return e=function(){function e(){this.callbacks=[]}return e.prototype.on=function(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)},e.prototype.trigger=function(e,t){if(this.callbacks[e])return this.callbacks[e].forEach(function(e){return e.call(this,t)})},e}()})}.call(this),function(){requirejs.config({baseUrl:"."}),require(["Game","EventBus"],function(e,t){var n,r;return n=new t,r=new e(n)})}.call(this),define("main",function(){});